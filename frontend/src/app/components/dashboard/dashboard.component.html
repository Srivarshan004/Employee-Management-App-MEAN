<main>
  <form [formGroup]="searchEmployee" (ngSubmit)="searchEmp()" class="searchForm">
    <mat-form-field class="example-full-width">
      <input type="search" formControlName="input" matInput placeholder="Employee Id">
    </mat-form-field>
    <button type="submit" mat-raised-button color="primary"> 
      <mat-icon 
              aria-hidden="false" 
              aria-label="Example edit icon"
              style="font-size: xx-large; width: 100%; height: 100%; padding-top: 20px;" 
              fontIcon="search">
      </mat-icon> 
  </button>
  </form>
  
  <div class="numOfEmp">
    <button mat-raised-button color="primary">
      Number Of Employees : {{ employeesCount }}
    </button>
  </div>
</main>
<div class="container allEmployees">
  <table mat-table matSort [dataSource]="dataSource" class="mat-elevation-z8">
    <ng-container matColumnDef="id">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Employee Id</th>
      <td mat-cell *matCellDef="let element">{{ element._id }}</td>
    </ng-container>

    <ng-container matColumnDef="name">
      <th mat-header-cell mat-sort-header mat-sort-header *matHeaderCellDef>Name</th>
      <td mat-cell *matCellDef="let element">{{ element.name }}</td>
    </ng-container>

    <ng-container matColumnDef="email">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Email</th>
      <td mat-cell *matCellDef="let element">{{ element.email }}</td>
    </ng-container>

    <ng-container matColumnDef="age">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Age</th>
      <td mat-cell *matCellDef="let element">{{ element.age }}</td>
    </ng-container>

    <ng-container matColumnDef="jobTitle">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Job Title</th>
      <td mat-cell *matCellDef="let element">{{ element.jobTitle }}</td>
    </ng-container>

    <ng-container matColumnDef="phoneNumber">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Phone Number</th>
      <td mat-cell *matCellDef="let element">{{ element.phoneNumber }}</td>
    </ng-container>

    <ng-container matColumnDef="city">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>City</th>
      <td mat-cell *matCellDef="let element">{{ element.city }}</td>
    </ng-container>

    <ng-container matColumnDef="hiringDate">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Hiring Date</th>
      <td mat-cell *matCellDef="let element">{{ element.hiringDate }}</td>
    </ng-container>

    <ng-container matColumnDef="salary">
      <th mat-header-cell mat-sort-header *matHeaderCellDef>Salary</th>
      <td mat-cell *matCellDef="let element">{{ element.salary }}</td>
    </ng-container>

    <ng-container matColumnDef="action">
      <th mat-header-cell *matHeaderCellDef>Action</th>
      <td mat-cell *matCellDef="let element">
        <a [routerLink]="['/update-employee', element._id]">
          <mat-icon
            aria-hidden="false"
            aria-label="Example edit icon"
            fontIcon="edit"></mat-icon>
        </a> &nbsp;
        <mat-icon
          aria-hidden="false"
          aria-label="Example delete icon"
          (click)="deleteEmployee(element._id)"
          style="color: red;"
          fontIcon="delete"></mat-icon>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>

  </table>
  <mat-paginator
      [pageSizeOptions]="[10, 20]"
      showFirstLastButtons
      aria-label="Select page of periodic elements">
  </mat-paginator>
</div>

<div class="container allEmployees">
  <a mat-raised-button color="primary" routerLink="/addemployee">+ Add Employee</a>
</div>
